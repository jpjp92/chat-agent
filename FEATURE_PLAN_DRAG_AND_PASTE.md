
# 📋 기능 개발 계획: 이미지 붙여넣기 및 드래그 앤 드롭 업로드

사용자가 더욱 편리하게 파일을 업로드할 수 있도록 클립보드 붙여넣기와 드래그 앤 드롭 기능을 추가하기 위한 계획서입니다.

---

## 🚀 개요

현재는 클립 아이콘을 눌러 파일을 수동으로 선택해야 합니다. 다음 기능을 추가하여 경험을 대폭 개선합니다:
1. **클립보드 붙여넣기 (Ctrl+V)**: 복사된 이미지를 즉시 첨부.
2. **드래그 앤 드롭 (Drag-and-Drop)**: 파일을 탐색기에서 채팅창으로 직접 끌어다 놓기.

---

## ✨ 상세 기능

### 1. 클립보드 지원 (붙여넣기)
- **상호작용**: 채팅 입력창에 포커스가 있는 상태에서 `Ctrl+V` (macOS는 `Cmd+V`) 입력.
- **동작**: 
    - 클립보드에 **이미지 데이터**가 있는 경우 자동으로 파일이 첨부됩니다.
    - 클립보드에 **텍스트**가 있는 경우 기존처럼 텍스트가 입력됩니다.
    - 중복 첨부 방지를 위해 클립보드의 첫 번째 이미지 데이터만 처리합니다.

### 2. 드래그 앤 드롭 인터페이스
- **상호작용**: 파일을 채팅창 위로 끌어오면 화면에 변화가 생깁니다.
- **동작**:
    - **시각적 피드백**: 파일이 입력창 위로 올라오면 점선 테두리와 "업로드하려면 여기에 놓으세요"라는 메시지 레이어가 나타납니다.
    - **다양한 파일 지원**: 이미지와 PDF 문서 모두 지원합니다 (기존 시스템 제한 준수).
    - **취소**: 파일이 영역 밖으로 나가거나 드롭하지 않으면 원래 상태로 복구됩니다.

### 3. 스마트 검증 (Validation)
- **용량 체크**: Vercel 서버 제한(4.5MB)을 초과하는 경우 에러 토스트 알림을 띄웁니다.
- **타입 체크**: 지원되는 형식(이미지, PDF)이 아닌 경우 첨부를 차단합니다.

---

## 🛠️ 구현 전략

### 수정할 컴포넌트
- **`ChatInput.tsx`**: 
    - 드래그 상태를 관리하는 `isDragging` 로컬 상태 추가.
    - `onPaste`, `onDrop`, `onDragOver`, `onDragLeave` 이벤트 핸들러 구현.
    - `isDragging` 상태 시 입력창을 덮는 오버레이 UI 구현.

### UI/UX 상세
- **Glassmorphism 오버레이**: 드래그 시 입력 필드가 반투명한 레이어로 덮이며 업로드 아이콘이 강조됩니다.
- **부드러운 전환**: 애니메이션 효과를 통해 드래그 상태 진입/해제 시 이질감을 줄입니다.

---

## ✅ 검증 계획

1. **수동 테스트**:
    - 웹브라우저에서 이미지 복사 후 붙여넣기 확인.
    - 5MB 이상의 대용량 이미지를 드래그하여 에러 알림 확인.
    - PDF 문서를 드래그하여 첨부 카드 생성 확인.
2. **멀티 플랫폼 확인**:
    - Windows(Ctrl+V)와 macOS(Cmd+V) 환경에서 동작 확인.

---

*작성자: Chat with Gemini 개발 팀*
