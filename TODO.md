# ğŸ“ Project TODO List

##  Priority Tasks (Future Roadmap)

### ğŸ”¥ High Priority (Core UX Improvements)

#### 1. ì„¸ì…˜ ë‚´ ë¬¸ì„œ ì»¨í…ìŠ¤íŠ¸ ì˜êµ¬ ì €ì¥ (Persistence) 
- [ ] **ëª©í‘œ**: í˜„ì¬ ë¸Œë¼ìš°ì € ë©”ëª¨ë¦¬(React State)ì—ë§Œ ì €ì¥ë˜ëŠ” `lastActiveDoc` ì •ë³´ë¥¼ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ìœ ì§€.
- [ ] **ë°©ë²•**:
    - Supabase `chat_sessions` í…Œì´ë¸”ì— `last_active_doc` (JSONB íƒ€ì…) ì»¬ëŸ¼ ì¶”ê°€.
    - ë¬¸ì„œ ì—…ë¡œë“œ ë˜ëŠ” ì„¸ì…˜ ì „í™˜ ì‹œ í•´ë‹¹ ì»¬ëŸ¼ì„ DBì— ì—…ë°ì´íŠ¸ ë° ë™ê¸°í™”.
    - ì„¸ì…˜ ë¡œë“œ ì‹œ DBì—ì„œ ì¶”ì¶œëœ í…ìŠ¤íŠ¸ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì™€ AIì—ê²Œ ì¦‰ì‹œ ì œê³µ.
- [ ] **ì˜ˆìƒ íš¨ê³¼**: ì‚¬ìš©ìê°€ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ë¬¸ì„œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•˜ì—¬ ëŒ€í™” ì—°ì†ì„± í–¥ìƒ.

#### 2. ë©”ì‹œì§€ ì¬ìƒì„± ê¸°ëŠ¥ (Regenerate Message)
- [ ] **ëª©í‘œ**: ì‚¬ìš©ìê°€ AI ì‘ë‹µì´ ë§ˆìŒì— ë“¤ì§€ ì•Šì„ ë•Œ ê°™ì€ í”„ë¡¬í”„íŠ¸ë¡œ ë‹¤ì‹œ ìƒì„± ìš”ì²­.
- [ ] **êµ¬í˜„**:
    - ê° AI ë©”ì‹œì§€ì— "ì¬ìƒì„±" ë²„íŠ¼ ì¶”ê°€ (ChatGPT ìŠ¤íƒ€ì¼).
    - ì´ì „ ë©”ì‹œì§€ ì‚­ì œ í›„ ë™ì¼í•œ ì‚¬ìš©ì ë©”ì‹œì§€ë¡œ ì¬ìš”ì²­.
    - ë¡œë”© ìƒíƒœ ë° ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬.
- [ ] **ì˜ˆìƒ íš¨ê³¼**: ì‚¬ìš©ì ë§Œì¡±ë„ í–¥ìƒ, ì¬ì§ˆë¬¸ íšŸìˆ˜ ê°ì†Œ.

#### 3. ë‹¤ì¤‘ ì´ë¯¸ì§€ ë¶„ì„ (Multi-image Analysis) - [Detailed Plan]
- [ ] **Phase 1: Frontend (UI/UX)**
    - `ChatInput` ìƒíƒœ ê´€ë¦¬ ë³€ê²½: `selectedAttachment` (ë‹¨ì¼) -> `selectedAttachments` (ë°°ì—´).
    - ì…ë ¥ì°½ ìƒë‹¨ì— ë¯¸ë‹ˆ ê°¤ëŸ¬ë¦¬/ê·¸ë¦¬ë“œ ë·° êµ¬í˜„ (ì´ë¯¸ì§€ë³„ ì‚­ì œ ë²„íŠ¼ í¬í•¨).
    - íŒŒì¼ ì—…ë¡œë“œ í•¸ë“¤ëŸ¬ ìˆ˜ì •: ë“œë˜ê·¸ ì•¤ ë“œë¡­/ë¶™ì—¬ë„£ê¸° ì‹œ ê¸°ì¡´ ëª©ë¡ì— **Append** (ìµœëŒ€ 3ì¥ ì œí•œ).
- [ ] **Phase 2: Backend & AI Logic**
    - `api/chat.ts`: `req.body`ì—ì„œ `attachments` ë°°ì—´ ìˆ˜ì‹  ë¡œì§ ì¶”ê°€.
    - Gemini í”„ë¡¬í”„íŠ¸ êµ¬ì„±: ë‹¤ì¤‘ ì´ë¯¸ì§€(`inlineData` or `fileData`)ë¥¼ `userParts`ì— ìˆœì°¨ì ìœ¼ë¡œ ì‚½ì….
    - ë©€í‹°ëª¨ë‹¬ í”„ë¡¬í”„íŠ¸ ìµœì í™” (ì˜ˆ: "ì²« ë²ˆì§¸ ì‚¬ì§„ê³¼ ë‘ ë²ˆì§¸ ì‚¬ì§„ ë¹„êµí•´ì¤˜").
- [ ] **Phase 3: Persistence & History (DB)**
    - Supabase `chat_messages` í…Œì´ë¸” êµ¬ì¡° ê²€í† :
        - ë°©ì•ˆ A: `attachment_url` ì»¬ëŸ¼ì— ì‰¼í‘œ(`,`) êµ¬ë¶„ì ì‚¬ìš©.
        - ë°©ì•ˆ B: `attachments` JSONB ì»¬ëŸ¼ ì‹ ê·œ ì¶”ê°€ (ê¶Œì¥).
    - `ChatMessage.tsx`: íˆìŠ¤í† ë¦¬ ë¡œë“œ ì‹œ ë‹¤ì¤‘ ì´ë¯¸ì§€ ê·¸ë¦¬ë“œ(2x2 ë“±) ë Œë”ë§ ì§€ì›.

### âš™ï¸ Medium Priority (Data & Intelligence)

#### 4. CSV/XLSX íŒŒì‹± ê³ ë„í™”
- [ ] **ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬**: ìƒìœ„ Ní–‰ ì œí•œ ë° ìš”ì•½ ì•ˆë‚´ (ì˜ˆ: 1000í–‰ ì´ìƒ ì‹œ ìƒ˜í”Œë§).
- [ ] **ì»¬ëŸ¼ íƒ€ì… ìë™ ê°ì§€**: ìˆ«ì, ë‚ ì§œ, í…ìŠ¤íŠ¸ ë“± ìë™ ì¸ì‹ ë° ìµœì í™”ëœ ì‹œê°í™” ì œì•ˆ.
- [ ] **ë‹¤ì¤‘ ì‹œíŠ¸ ì§€ì›**: Excel íŒŒì¼ì˜ ì—¬ëŸ¬ ì‹œíŠ¸ë¥¼ ì„ íƒí•˜ì—¬ ë¶„ì„.

#### 5. ë‹¤ì¤‘ ë¬¸ì„œ ì—…ë¡œë“œ ë° êµì°¨ ë¶„ì„
- [ ] **ëª©í‘œ**: ì—¬ëŸ¬ ê°œì˜ ë¬¸ì„œ íŒŒì¼(PDF, DOCX ë“±)ì„ ë™ì‹œì— ì—…ë¡œë“œí•˜ê³  êµì°¨ ë¶„ì„ ì§€ì›.
- [ ] **êµ¬í˜„**: 
    - ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ë‹¤ì¤‘ íŒŒì¼ ì„ íƒ.
    - ê° ë¬¸ì„œë¥¼ ì„¸ì…˜ ì»¨í…ìŠ¤íŠ¸ì— ì¶”ê°€í•˜ì—¬ AIê°€ ì°¸ì¡° ê°€ëŠ¥í•˜ë„ë¡ êµ¬ì„±.
- [ ] **ì˜ˆìƒ íš¨ê³¼**: ë…¼ë¬¸ ë¹„êµ, ê³„ì•½ì„œ ëŒ€ì¡° ë“± ê³ ê¸‰ ë¬¸ì„œ ë¶„ì„ ì‹œë‚˜ë¦¬ì˜¤ ì§€ì›.

### ğŸ¨ Low Priority (Advanced Visualizations)

#### 6. í™”í•™ êµ¬ì¡° ì‹œê°í™” ë°˜ì‘í˜• ê³ ë„í™” (Chemical-Viz)
- [ ] **ë™ì  ë³¸ë“œ ê¸¸ì´(Bond Length) ì¡°ì ˆ**: SMILES ë¬¸ìì—´ ê¸¸ì´ì— ë”°ë¼ ê²°í•©ì„  ê¸¸ì´ë¥¼ ë°˜ë¹„ë¡€ ì¡°ì ˆí•˜ì—¬ ê¸´ ë¶„ìì˜ ë””í…Œì¼ ë³´ì¡´.
- [ ] **ê°€ë¡œ ìŠ¤í¬ë¡¤ ë ˆì´ì•„ì›ƒ ë³´ê°•**: ì´ˆê±°ëŒ€ ë¶„ì ëŒ€ì‘ì„ ìœ„í•œ í„°ì¹˜ ê¸°ë°˜ ê°€ë¡œ íƒìƒ‰ UI ê°•í™”.

#### 7. ìˆ˜ì‹ ê¸°ë°˜ ê·¸ë˜í”„ ë° ë²¡í„°ì¥ (Plotly/D3)
- [ ] **LaTeX ìˆ˜ì‹ ì…ë ¥ â†’ JS ìˆ˜ì¹˜ í•´ì„ â†’ ë™ì  ê·¸ë˜í”„ ì‹œê°í™”**.
- [ ] **ì „ìê¸°ì¥ ë²¡í„° í•„ë“œ, íŒŒë™ í•¨ìˆ˜, 3D í‘œë©´ ì°¨íŠ¸(Surface Plot) êµ¬í˜„**.
- [ ] **ì˜ˆìƒ íš¨ê³¼**: ë¬¼ë¦¬í•™, ìˆ˜í•™ êµìœ¡ìš© ì‹œê°í™” ê°•í™”.

#### 8. ë³„ìë¦¬ ì‹œê°í™” ì—”ì§„ ê³ ë„í™” (Astro-Viz Advanced)
- [ ] **Phase 4: 3D ì²œêµ¬ ë° ê³ ê¸‰ ê¸°ëŠ¥ (Expert)**
    - [ ] Three.js ê¸°ë°˜ 3D ì²œêµ¬ ì „í™˜ (íšŒì „/í™•ëŒ€ ê°€ëŠ¥).
    - [ ] í–‰ì„± ìœ„ì¹˜ ê³„ì‚° (ì¼€í”ŒëŸ¬ ê¶¤ë„ ë°©ì •ì‹).
    - [ ] ì‹¤ì‹œê°„ ISS ìœ„ì¹˜ ì˜¤ë²„ë ˆì´.
    - [ ] ë³„ í´ë¦­ ì‹œ ìœ„í‚¤/ìƒì„¸ ì •ë³´ íˆ´íŒ í‘œì‹œ.

#### 9. 3D ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ (Phy-Viz Advanced)
- [ ] **Phase 3: 3D ê°•ì²´/ìœ ì²´ ì‹œë®¬ë ˆì´ì…˜ (Three.js + Rapier)**
    - React Three Fiber(R3F) ê¸°ë°˜ì˜ ê³ ì„±ëŠ¥ 3D ë¬¼ë¦¬ ì—”ì§„ íƒ‘ì¬.
    - **ìœ ì²´ ì—­í•™(Fluid Dynamics)**: ì…ì ì‹œìŠ¤í…œ(SPH)ì„ í™œìš©í•œ ë¬¼/ì•¡ì²´ ì‹œë®¬ë ˆì´ì…˜.
    - ë³µì¡í•œ 3D êµ¬ì¡°ë¬¼ ë° ê°•ì²´ ìƒí˜¸ì‘ìš© ì‹¤í—˜.

### âš¡ ì„±ëŠ¥ ì•ˆì •í™” ë° ê¸°ëŠ¥ ì¶”ê°€
- [ ] **Self-host Font Awesome**: 
    - CDN ëŒ€ì‹  `@fortawesome/react-fontawesome` ì ìš© ë˜ëŠ” CSS/webfonts ìì²´ í˜¸ìŠ¤íŒ….
    - **ëª©í‘œ**: ì™¸ë¶€ CDN ì˜ì¡´ë„ ì œê±° ë° ë Œë”ë§ ì°¨ë‹¨ í•´ì†Œ.
- [ ] **Self-host KaTeX/Fonts**: `jsdelivr` ë° `googleapis` ì˜ì¡´ì„± ì œê±°.
- [ ] **Service Worker (PWA)**: ì •ì  ìì‚° ìºì‹±ì„ í†µí•œ ì¼ê´€ëœ ì„±ëŠ¥ ë³´ì¥.
- [ ] **Image Proxy Next-gen**: `.webp` ìë™ ë³€í™˜ ë° ìµœì í™”.

---

## ğŸ› ï¸ Minor Improvements

- [x] ë‹¤í¬ëª¨ë“œ/ë¼ì´íŠ¸ëª¨ë“œ UI ì¼ê´€ì„± í´ë¦¬ì‹± (Borderless ì „ëµ ìƒì‹œ ì ìš©) âœ…
    - ì „ì—­ ìŠ¤í¬ë¡¤ë°” ë° KaTeX ë¸”ë¡ ìŠ¤íƒ€ì¼ ìµœì í™”.
    - ì‚¬ì´ë“œë°” ìƒˆ ì±„íŒ… ë²„íŠ¼ ë° ì„ íƒ ìƒíƒœ ë””ìì¸ ê³ ë„í™”.
    - ë°ì´í„° ì‹œê°í™”(Chart/Chem/Drug) ì¹´ë“œ ë””ìì¸ (2rem ë¼ìš´ë”©, ê·¸ë¦¼ì ê³ ë„í™”) ë°˜ì˜.
- [x] ì‚¬ì´ë“œë°” UI ì „ë©´ ê°œí¸ (GPT/Gemini ìŠ¤íƒ€ì¼ ë°˜ì˜) âœ…
    - **Header & Sidebar**:
        - ëª¨ë°”ì¼ ì‚¬ì´ë“œë°” ë‹«ê¸°(X) ë²„íŠ¼ ì œê±° ë° ë°±ë“œë¡­ í„°ì¹˜ UX ìµœì í™”.
        - ì‚¬ì´ë“œë°” ìƒë‹¨ 'Menu' í…ìŠ¤íŠ¸ ì œê±° ë° ë¯¸ë‹ˆë©€ ë””ìì¸ ì ìš©.
        - ëª¨ë°”ì¼ í–„ë²„ê±° ë©”ë‰´ ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ ë³€ê²½ (Staggered -> Regular).
        - ìš°ì¸¡ ìƒë‹¨ ì‚¬ìš©ì í”„ë¡œí•„ ì˜ì—­ ê°„ì†Œí™” (Divider ì œê±°, í…ìŠ¤íŠ¸ ì¶•ì†Œ, Chevron ì•„ì´ì½˜ ì¶”ê°€).
    - **General UI**:
        - í•˜ë‹¨ ì–¸ì–´ ì„ íƒ ì˜ì—­ ë³´ë” ë¼ì¸ ì œê±°ë¡œ ê°œë°©ê° í™•ë³´.
        - ë©”ì‹œì§€ í•˜ë‹¨ ìœ í‹¸ë¦¬í‹° ë²„íŠ¼(ë“£ê¸°, ë³µì‚¬) ëª¨ë°”ì¼ ê°€ì‹œì„± ê°œì„  (Always visible).
        - ì´ë¯¸ì§€ ë·°ì–´ ìµœëŒ€ ë„ˆë¹„ í™•ì¥ (400px -> 480px/Full width).
    - ì‹¤ì‹œê°„ ëŒ€í™” ê²€ìƒ‰ ê¸°ëŠ¥ ë„ì….
    - 'ìƒˆ ì±„íŒ…' ë° ì„¸ì…˜ ë¦¬ìŠ¤íŠ¸ ë””ìì¸ í”„ë¦¬ë¯¸ì—„ ë¦¬í„°ì¹­.
- [ ] ë©”ì‹œì§€ í¸ì§‘ ê¸°ëŠ¥ ì¶”ê°€ (Edit message).
- [ ] ìŒì„± ì¸í„°ë™ì…˜ ê³ ë„í™” (Voice Mode Strategy): ë‹¨ìˆœ ë§ˆì´í¬ ì…ë ¥ì„ ë„˜ì–´ì„  ì‹¤ì‹œê°„ ì—°ì† ëŒ€í™” ë° ë¦¬ì–¼íƒ€ì„ ë³´ì´ìŠ¤ ëª¨ë“œ êµ¬í˜„.

---

## ğŸ§¹ Code Quality & Refactoring

- [ ] ë¶ˆí•„ìš”í•œ íŒŒì¼ ì •ë¦¬ (`test-supabase.ts`, `metadata.json`).
- [ ] `reference/` í´ë” ì‚­ì œ ê³ ë ¤ (HWPX êµ¬í˜„ ì™„ë£Œ).
- [ ] ESLint/Prettier ì„¤ì • ì¶”ê°€.
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± (Vitest).

---

*Last Updated: 2026-02-19 (UI Polishing and Strategy Refinement)*

